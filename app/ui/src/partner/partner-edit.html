<import from="../components/peppol-search/peppol-search"></import>

<div class="invoices-main">
    <div class="section-header">
        <div style="display:flex;align-items:center;gap:.5rem">
            <h1 style="margin:0" t="partner.edit.new">New partner</h1>
        </div>
        <div class="editor-header-actions">
            <button type="button" class="btn" click.trigger="partnerContext.clearSelectedPartner()" t="partner.edit.discard">Discard</button>
            <button type="button" class="btn primary" click.trigger="savePartner()" disabled.bind="!partnerContext.selectedPartner.name || !partnerContext.selectedPartner.peppolId || !partnerContext.selectedPartner.peppolId.includes(':')" t="partner.edit.save">Save partner</button>
        </div>
    </div>
</div>
<section>
    <div style="display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(250px, 320px));">
        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-building-icon lucide-building"><path d="M12 10h.01"/><path d="M12 14h.01"/><path d="M12 6h.01"/><path d="M16 10h.01"/><path d="M16 14h.01"/><path d="M16 6h.01"/><path d="M8 10h.01"/><path d="M8 14h.01"/><path d="M8 6h.01"/><path d="M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"/><rect x="4" y="2" width="16" height="20" rx="2"/></svg>
                <h2 t="partner.edit.company-info">Company Info</h2>
            </div>
            <div style="display: grid; gap: var(--space-1)">
                <label class="field">
                    <span t="label.vat-number">VAT Number</span>
                    <input type="text" value.bind="partnerContext.selectedPartner.vatNumber" />
                </label>
                <label class="field">
                    <span t="label.company-name">Company name</span>
                    <input type="text" value.bind="partnerContext.selectedPartner.name" />
                </label>
                <label class="field">
                    <span t="label.email">Email</span>
                    <input type="text" value.bind="partnerContext.selectedPartner.email" />
                </label>
                <label class="field checkbox">
                    <input type="checkbox" checked.bind="partnerContext.selectedPartner.customer" />
                    <span t="partner.edit.customer">Customer</span>
                </label>
                <label class="field checkbox">
                    <input type="checkbox" checked.bind="partnerContext.selectedPartner.supplier" />
                    <span t="partner.edit.supplier">Supplier</span>
                </label>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-globe-icon lucide-globe"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
                <h2 t="partner.edit.peppol">Peppol</h2>
            </div>
            <peppol-search name.bind="partnerContext.selectedPartner.name"
                           vat-number.bind="partnerContext.selectedPartner.vatNumber"
                           peppol-id.two-way="partnerContext.selectedPartner.peppolId">
            </peppol-search>
        </div>

        <div class="card" style="min-width: 300px; width: 320px">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin-house-icon lucide-map-pin-house"><path d="M15 22a1 1 0 0 1-1-1v-4a1 1 0 0 1 .445-.832l3-2a1 1 0 0 1 1.11 0l3 2A1 1 0 0 1 22 17v4a1 1 0 0 1-1 1z"/><path d="M18 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 .601.2"/><path d="M18 22v-3"/><circle cx="10" cy="10" r="3"/></svg>
                <h2 t="partner.edit.address">Address</h2>
            </div>
            <div class="grid grid-col-73">
                <label class="field">
                    <span t="label.city">City</span>
                    <input type="text" value.bind="partnerContext.selectedPartner.registeredOffice.city" />
                </label>
                <label class="field">
                    <span t="label.postal-code">Postal Code</span>
                    <input type="text" value.bind="partnerContext.selectedPartner.registeredOffice.postalCode" />
                </label>
                <label class="field">
                    <span t="label.street">Street</span>
                    <input type="text" value.bind="partnerContext.selectedPartner.registeredOffice.street" />
                </label>
                <label class="field">
                    <span t="label.house-number-short">Number</span>
                    <input type="text" value.bind="partnerContext.selectedPartner.registeredOffice.houseNumber" />
                </label>
            </div>
        </div>

        <div class="card" >
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-banknote-arrow-down-icon lucide-banknote-arrow-down"><path d="M12 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5"/><path d="m16 19 3 3 3-3"/><path d="M18 12h.01"/><path d="M19 16v6"/><path d="M6 12h.01"/><circle cx="12" cy="12" r="2"/></svg>
                <h2 t="partner.edit.payment-info">Payment Info</h2>
            </div>
            <div class="grid">
                <label class="field full">
                    <span t="label.iban">IBAN</span>
                    <input type="text" value.bind="partnerContext.selectedPartner.iban" />
                </label>
                <label class="field full">
                    <span t="label.account-name">Account Name</span>
                    <input type="text" value.bind="partnerContext.selectedPartner.paymentAccountName" />
                </label>
                <label class="field full" if.bind="partnerContext.selectedPartner">
                    <span t="label.payment-terms">Payment Terms</span>
                    <select value.bind="partnerContext.selectedPartner.paymentTerms">
                        <option value="">-</option>
                        <option repeat.for="terms of getPaymentTerms()" value.bind="terms">
                            <span t="paymentTerms.${terms}"></span>
                        </option>
                    </select>
                </label>
            </div>
        </div>
    </div>

</section>
